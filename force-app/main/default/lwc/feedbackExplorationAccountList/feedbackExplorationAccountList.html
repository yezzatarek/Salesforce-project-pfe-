<template>
    <div class="c-container">
        <div>




            <article class="slds-card" style="height: 32rem;">
                <div class="slds-card__header slds-grid">
                    <header class="slds-media slds-media_center slds-has-flexi-truncate">
                        <div class="slds-media__figure">
                            <lightning-icon icon-name="standard:account" alternative-text="Account" title="Account">

                            </lightning-icon>

                        </div>
                        <div class="slds-media__body">
                            <h2 class="slds-card__header-title">
                                <a href="javascript:void(0);" class="slds-card__header-link slds-truncate"
                                    title="accounts (1)">
                                    <span>Accounts</span>
                                </a>
                            </h2>

                        </div>



                    </header>

                </div>
                <div onkeyup={handleKeyUp}>
                    <lightning-input name="enter-search" type="search" onclick={loadAccounts}
                        onchange={getfilteredAccount}>
                    </lightning-input>
                </div>
                <div class="slds-card__body slds-scrollable_y" style="height:20rem;">
                    <table
                        class="slds-table slds-table_cell-buffer slds-no-row-hover slds-table_bordered slds-table_fixed-layout"
                        role="grid">
                        <thead>
                            <tr class="slds-line-height_reset">
                                <th class="" scope="col">
                                    <div class="slds-truncate" title="Name">Account Name</div>
                                </th>


                            </tr>
                        </thead>
                        <tbody>
                            <!--template for filtered accounts-->
                            <template for:each={filteredAccounts.data} for:item='account' if:true={accountFilter}>
                                <tr class="slds-hint-parent" key={account.Id}>
                                    <th scope="row">
                                        <div class="slds-truncate" title="" style="text-align: left;">
                                            <a href="javascript:void(0);" tabindex="-1"> {account.Name}</a>
                                        </div>
                                        <div class="slds-truncate" title="" style="text-align: right;">

                                            <button class="slds-button slds-button_brand" value={account.Id}
                                                onclick={setFFilteredFeedbacks}>Show Feedbacks</button>
                                        </div>
                                    </th>


                                </tr>
                            </template>
                            <!-- template for all accounts-->

                            <template for:each={accounts.data} for:item='account' if:false={accountFilter}>
                                <tr class="slds-hint-parent" key={account.Id}>
                                    <th scope="row">
                                        <div class="slds-truncate" title="" style="text-align: left;">
                                            <a href="javascript:void(0);" tabindex="-1"> {account.Name}</a>
                                        </div>
                                        <div class="slds-truncate" title="" style="text-align: right;">

                                            <button class="slds-button slds-button_brand" value={account.Id}
                                                onclick={setFFilteredFeedbacks}>Show Feedbacks</button>
                                        </div>
                                    </th>


                                </tr>
                            </template>

                        </tbody>
                    </table>
                </div>

            </article>

        </div>
    </div>
    
</template>